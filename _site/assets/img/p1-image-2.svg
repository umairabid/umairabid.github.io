<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="672px" height="380px" viewBox="-0.5 -0.5 672 380"><defs/><g><path d="M 256 160 L 101 160.5 L 101 193.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 101 198.88 L 97.5 191.88 L 101 193.63 L 104.5 191.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 256 140 L 256 193.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 256 198.88 L 252.5 191.88 L 256 193.63 L 259.5 191.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 256 160 L 391 160.5 L 391 193.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 391 198.88 L 387.5 191.88 L 391 193.63 L 394.5 191.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 160px; margin-left: 257px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Queue</div></div></div></foreignObject><text x="257" y="163" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Queue</text></switch></g><rect x="41" y="200" width="120" height="30" rx="4.5" ry="4.5" fill="none" stroke="none" pointer-events="all"/><path d="M 44.8 200.13 L 156.04 199.49 L 161.71 205.81 L 164.21 227.9 L 155.71 226.4 L 45.41 228.58 L 41.3 228.54 L 37.21 206.19 L 40.53 202.05 L 42.38 200.14" fill="rgb(255, 255, 255)" stroke="none" pointer-events="all"/><path d="M 45.5 200 M 45.5 200 C 67.76 195.46 98.57 196.9 156.5 200 M 45.5 200 C 71.46 200.34 95.65 202.68 156.5 200 M 156.5 200 C 161.51 201.03 160.32 198.54 161 204.5 M 156.5 200 C 161.04 200.32 164.8 201.12 161 204.5 M 161 204.5 C 158.19 208.75 160.46 214.43 161 225.5 M 161 204.5 C 162.1 211.73 163.02 219.9 161 225.5 M 161 225.5 C 163.73 232.14 162.11 233.96 156.5 230 M 161 225.5 C 162.37 227.91 155.02 227.18 156.5 230 M 156.5 230 C 113.12 227.85 72.21 229.63 45.5 230 M 156.5 230 C 113.82 230.53 73.15 233.25 45.5 230 M 45.5 230 C 44.8 231.67 44.28 228.67 41 225.5 M 45.5 230 C 38.95 226.36 41.41 231.13 41 225.5 M 41 225.5 C 40.37 218.61 45.39 215.12 41 204.5 M 41 225.5 C 39.35 217.46 41.85 211.2 41 204.5 M 41 204.5 C 41.18 201.19 44.77 199.09 45.5 200 M 41 204.5 C 40.2 197.12 43.77 202.08 45.5 200" fill="none" stroke="rgb(0, 0, 0)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 215px; margin-left: 42px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Email Action</div></div></div></foreignObject><text x="101" y="219" fill="rgb(0, 0, 0)" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">Email Action</text></switch></g><rect x="193.5" y="200" width="125" height="30" rx="4.5" ry="4.5" fill="none" stroke="none" pointer-events="all"/><path d="M 197.3 201.49 L 315.16 202.92 L 315.07 204.54 L 318.36 225.65 L 314.29 231.23 L 199.48 230.29 L 191.97 224 L 192.52 208.3 L 196.55 200.56 L 195.57 202.09" fill="rgb(255, 255, 255)" stroke="none" pointer-events="all"/><path d="M 198 200 M 198 200 C 235.42 196.44 270.92 197.05 314 200 M 198 200 C 238.57 199.65 278.19 201.96 314 200 M 314 200 C 313.53 196.3 320.21 200.15 318.5 204.5 M 314 200 C 320.77 201.61 315.54 201.37 318.5 204.5 M 318.5 204.5 C 318.08 210.38 322.47 216.99 318.5 225.5 M 318.5 204.5 C 318.05 209.36 319.63 214.86 318.5 225.5 M 318.5 225.5 C 319.33 225.06 320.07 232.81 314 230 M 318.5 225.5 C 319.06 230.33 319.85 227.11 314 230 M 314 230 C 267.96 226.69 225.89 227.84 198 230 M 314 230 C 278.42 230.68 245.72 230.77 198 230 M 198 230 C 194.22 226.29 190.52 228.66 193.5 225.5 M 198 230 C 193.51 229.54 191.43 232.04 193.5 225.5 M 193.5 225.5 C 190.57 220.94 197.15 212.44 193.5 204.5 M 193.5 225.5 C 193.29 217.44 194.75 211.23 193.5 204.5 M 193.5 204.5 C 189.89 201.44 193.73 199.62 198 200 M 193.5 204.5 C 194.27 203.46 190.48 201.34 198 200" fill="none" stroke="rgb(0, 0, 0)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 123px; height: 1px; padding-top: 215px; margin-left: 195px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Sms Action</div></div></div></foreignObject><text x="256" y="219" fill="rgb(0, 0, 0)" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">Sms Action</text></switch></g><rect x="351" y="200" width="80" height="30" rx="4.5" ry="4.5" fill="none" stroke="none" pointer-events="all"/><path d="M 354.8 202.85 L 429.28 198.35 L 431.42 203.26 L 427.51 231.41 L 427.87 228.06 L 350.55 232 L 347.64 227.45 L 352.83 202.42 L 349.56 199.07 L 353.76 196.04" fill="rgb(255, 255, 255)" stroke="none" pointer-events="all"/><path d="M 355.5 200 M 355.5 200 C 381.37 201.2 410.86 201 426.5 200 M 355.5 200 C 375.15 202.1 390.67 200.36 426.5 200 M 426.5 200 C 428.54 199.57 427.09 201.75 431 204.5 M 426.5 200 C 426.29 202.9 430.48 201.62 431 204.5 M 431 204.5 C 432.12 207.8 430.63 211.16 431 225.5 M 431 204.5 C 428.99 211.2 431.24 218.23 431 225.5 M 431 225.5 C 429.94 225.97 433.02 231.66 426.5 230 M 431 225.5 C 430.75 232.76 430.47 227.04 426.5 230 M 426.5 230 C 403.54 229.35 378.05 229.88 355.5 230 M 426.5 230 C 409.71 231.07 396.65 228.53 355.5 230 M 355.5 230 C 348.64 228.91 349.77 228.64 351 225.5 M 355.5 230 C 353.07 232.73 346.45 232.96 351 225.5 M 351 225.5 C 352.93 219.47 353.06 210.15 351 204.5 M 351 225.5 C 351.38 217.42 351.82 211.26 351 204.5 M 351 204.5 C 351.6 201.7 355.7 200.15 355.5 200 M 351 204.5 C 353.34 200.6 351.39 200.6 355.5 200" fill="none" stroke="rgb(0, 0, 0)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 215px; margin-left: 352px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">...</div></div></div></foreignObject><text x="391" y="219" fill="rgb(0, 0, 0)" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">...</text></switch></g><rect x="171" y="0" width="500" height="80" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 40px; margin-left: 173px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div><ul><li><span style="background-color: initial;"><font face="Comic Sans MS">Querying lead actions where perform_at =&gt; current time and status = pending</font></span></li><li><span style="background-color: initial;"><font face="Comic Sans MS">Finding out the correct sqs queue for action type</font></span></li><li><span style="background-color: initial;"><font face="Comic Sans MS">Pushing message on queue</font></span></li></ul></div></div></div></div></foreignObject><text x="173" y="44" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Querying lead actions where perform_at =&gt; current time and status = pendingFinding...</text></switch></g><rect x="61" y="270" width="520" height="110" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 325px; margin-left: 63px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div><ul><li><font face="Comic Sans MS">Verifies user's scheduled actions are still under rate limit</font></li><li><font face="Comic Sans MS">Mark the action as in progress as it receives</font></li><li><span style="background-color: initial;"><font face="Comic Sans MS">Attempts to perform the action, in this case send the email</font></span></li><li><span style="background-color: initial;"><font face="Comic Sans MS">If attempt fails reschedule action using exponential backoff</font></span></li><li><span style="background-color: initial;"><font face="Comic Sans MS">If attempt succeeds, mark action as completed and add next in lead stage actions</font></span></li></ul></div></div></div></div></foreignObject><text x="63" y="329" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Verifies user's scheduled actions are still under rate limitMark the action as in prog...</text></switch></g><path d="M 41 215 Q 1 215 1 252.5 Q 1 290 53.13 290" fill="none" stroke="none" pointer-events="stroke"/><path d="M 59.88 290 L 50.88 294.5 L 53.13 290 L 50.88 285.5 Z" fill="none" stroke="none" pointer-events="all"/><path d="M 41 215 M 41 215 C 17.47 213.47 4.45 229.16 1 252.5 M 41 215 C 10.12 211.25 -2.9 230.17 1 252.5 M 1 252.5 C -0.31 277.47 14.89 290.28 53.13 290 M 1 252.5 C 0.3 278.73 22.85 287.03 53.13 290" fill="none" stroke="rgb(0, 0, 0)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 50.92 285.46 C 50.92 285.46 50.92 285.46 50.92 285.46 M 50.92 285.46 C 50.92 285.46 50.92 285.46 50.92 285.46 M 52.62 289.59 C 54.02 288.61 54.3 288.22 54.59 287.33 M 52.62 289.59 C 53.31 288.47 54.4 287.61 54.59 287.33 M 52.36 295.99 C 54.54 293.99 58.37 290.88 58.27 289.2 M 52.36 295.99 C 53.41 294.76 54.47 293.09 58.27 289.2" fill="none" stroke="rgb(0, 0, 0)" stroke-width="0.5" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/><path d="M 59.88 290 M 59.88 290 C 58.03 292.2 52.45 293.01 50.88 294.5 M 59.88 290 C 57.21 290.93 54.76 292.07 50.88 294.5 M 50.88 294.5 C 51.08 292.33 52.08 293.07 53.13 290 M 50.88 294.5 C 51.77 293.11 52.1 291.96 53.13 290 M 53.13 290 C 52.16 287.6 51.35 286.85 50.88 285.5 M 53.13 290 C 52.02 288.36 52.13 287.79 50.88 285.5 M 50.88 285.5 C 54.1 285.1 54.66 287.86 59.88 290 M 50.88 285.5 C 52.38 286.3 56.44 288.37 59.88 290" fill="none" stroke="rgb(0, 0, 0)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/><path d="M 196 125 Q 121 125 121 82.5 Q 121 40 163.13 40" fill="none" stroke="none" pointer-events="stroke"/><path d="M 169.88 40 L 160.88 44.5 L 163.13 40 L 160.88 35.5 Z" fill="none" stroke="none" pointer-events="all"/><path d="M 196 125 M 196 125 C 149.13 124.84 118.07 107.93 121 82.5 M 196 125 C 146.22 128.98 122.45 110.93 121 82.5 M 121 82.5 C 120.77 50.96 133.13 41.99 163.13 40 M 121 82.5 C 118.2 50.16 133.55 39.47 163.13 40" fill="none" stroke="rgb(0, 0, 0)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 161.02 35.34 C 161.02 35.34 161.02 35.34 161.02 35.34 M 161.02 35.34 C 161.02 35.34 161.02 35.34 161.02 35.34 M 162.73 39.47 C 163.62 38.93 164.16 38.04 164.69 37.21 M 162.73 39.47 C 163.43 38.96 163.76 38.08 164.69 37.21 M 162.46 45.87 C 163.12 42.78 166.46 42.89 168.37 39.08 M 162.46 45.87 C 164.35 44.3 165.93 41.86 168.37 39.08" fill="none" stroke="rgb(0, 0, 0)" stroke-width="0.5" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/><path d="M 169.88 40 M 169.88 40 C 166.18 41.68 166.77 41.57 160.88 44.5 M 169.88 40 C 167.53 41.29 162.48 42.56 160.88 44.5 M 160.88 44.5 C 160.66 44.37 162.38 43.08 163.13 40 M 160.88 44.5 C 161.65 43.85 162.05 42.62 163.13 40 M 163.13 40 C 161.81 37.93 162.14 35.91 160.88 35.5 M 163.13 40 C 162.47 38.71 161.74 37.82 160.88 35.5 M 160.88 35.5 C 165.21 36.76 165.96 37.45 169.88 40 M 160.88 35.5 C 163.16 37.72 164.61 38.4 169.88 40" fill="none" stroke="rgb(0, 0, 0)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/><rect x="196" y="110" width="120" height="30" rx="4.5" ry="4.5" fill="none" stroke="none" pointer-events="all"/><path d="M 203.64 111.88 L 316.97 108.52 L 317.98 112.04 L 311.96 138.19 L 312.89 136.03 L 194.97 136.27 L 194.83 133.2 L 198.92 113.21 L 195.62 111.28 L 197.77 111.42" fill="rgb(255, 255, 255)" stroke="none" pointer-events="all"/><path d="M 200.5 110 M 200.5 110 C 239.31 109.22 285.85 107.76 311.5 110 M 200.5 110 C 244.35 109.3 289.55 109.16 311.5 110 M 311.5 110 C 315.76 108.2 318.12 115.38 316 114.5 M 311.5 110 C 313.27 106.43 317.78 110.07 316 114.5 M 316 114.5 C 312.63 121.1 313.82 127.46 316 135.5 M 316 114.5 C 317.4 117.91 315.06 124.96 316 135.5 M 316 135.5 C 313.9 137.29 314.37 139.59 311.5 140 M 316 135.5 C 314.05 140.03 314.15 141.3 311.5 140 M 311.5 140 C 272.32 135 235.07 134.99 200.5 140 M 311.5 140 C 276.68 140.33 239.22 139.31 200.5 140 M 200.5 140 C 201.09 142.56 193.03 135.66 196 135.5 M 200.5 140 C 196.35 141.74 199.58 136.01 196 135.5 M 196 135.5 C 193.72 129.73 193.09 121.44 196 114.5 M 196 135.5 C 195.45 129.37 196.02 124.17 196 114.5 M 196 114.5 C 199.85 114.18 197.13 113.49 200.5 110 M 196 114.5 C 199.5 114.46 199.06 110.86 200.5 110" fill="none" stroke="rgb(0, 0, 0)" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 125px; margin-left: 197px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Scheduler</div></div></div></foreignObject><text x="256" y="129" fill="rgb(0, 0, 0)" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">Scheduler</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>